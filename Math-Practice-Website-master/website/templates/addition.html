{% extends "base.html" %} {% block title %}Addition{% endblock %}
{% block content %}
<center>
<body>
<h1 style="color:rgb(255, 255, 255);" font-family:Verdana;><span id="eq" style=font-size:100px></span></h1>
<form id="btn01">
    <input type="number" id="answer" STYLE="color: rgb(255, 255, 255);background-color: rgb(128, 128, 128);" >
    <button style="margin: 5px;" class="button button1" type="button" id = "z"  onclick="handler(event)">Submit</button>
    <style>
        .button {
          border-radius: 100px;
          border: 4px solid rgb(	126, 221, 210);
          padding: 10px; 
          width: 250px;
          height: 100px; 
          background-color: rgb(88, 88, 88); 
          color: rgb(255, 255, 255);  
        } 
        .button {
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 30px;
        }
        .button:hover {
          background-color: rgb(156, 156, 156);
        }
        </style>
</form>
<h1 style="color:rgb(255, 255, 255);" style=font-size:100px><span id="f"></span></h1>
<h1 style="color:rgb(255, 255, 255);" style=font-size:100px><span id="q"></span></h1>
</center>

<script>
const duration = 60000
const end = Date.now()+duration

let correct = 0
let error = 0
let result=-1

function ask() {
  const op1 = Math.floor(Math.random() * 100) + 1
  const op2 = Math.floor(Math.random() * 100) + 1
  result = op1 + op2
  
  document.getElementById('eq').innerHTML = (`${op1} + ${op2} = ?`);
}
function handler(evt) {
    //document.getElementById("btn01").submit();
    if (document.getElementById("answer").value == result) {
    correct++
    document.getElementById('f').innerHTML =("correct!")
    document.getElementById('answer').value = ''
    
    if (Date.now()<end) ask()
    }
  
    else {
    error++
    document.getElementById('f').innerHTML =("wrong")
  }
}

//document.addEventListener("keyup", handler)

ask()

setTimeout(()=>{
    document.getElementById('q').innerHTML =(`Final Score : ${correct} correct and ${error} error`)
    var name = prompt(" Times up please enter your username (DO NOT USE YOUR REAL NAME)");
    var poop =(`${correct}${name}`);
const fs = require('fs')
  let data = "Learning how to write in a file."
  fs.writeFile('Output.txt', data, (err) => {
      if (err) throw err;
  })
    document.removeEventListener("keyup", handler)
}, duration)
    </script>

</body>
<body style="background-color:rgb(88, 88, 88);"></body>
  <style>
#mybutton {
    position: fixed;
    bottom: 10px;
    right: 2300px;
    border-radius: 100px;
    border: 4px solid 
    padding: 10px; 
    width: 250px;
    height: 100px; 
    background-color: rgb(88, 88, 88); 
    color: rgb(0, 216, 216);  
    font-size: 30px;
  }
#mybutton:hover {
    background-color: rgb(156, 156, 156);
}
#answer
{
    height:100px;
    width:200px;
    font-size: 75px;
}
#name
{
    height:100px;
    width:200px;
    font-size: 75px;
}
  </style>
  {% endblock %}